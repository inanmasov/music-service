# Тестовое задание на позицию Backend Developer

## Реализация онлайн библиотеки песен

**Задание:**
Необходимо реализовать следующее:

1. Выставить rest методы:

Получение данных библиотеки с фильтрацией по всем полям и пагинацией;

Получение текста песни с пагинацией по куплетам;

Удаление песни;

Изменение данных песни;

Добавление новой песни в формате
      JSON
{
 "group": "Muse",
 "song": "Supermassive Black Hole"
};

2. При добавлении сделать запрос в АПИ, описанного сваггером
3. Обогащенную информацию положить в БД postgres (структура БД должна быть создана путем миграций при старте сервиса)
4. Покрыть код debug- и info-логами
5. Вынести конфигурационные данные в .env-файл
6. Сгенерировать сваггер на реализованное АПИ

## Запуск в Docker-Compose
Команда для сборки и запуска из директории приложения:
```bash
docker-compose up --build
```
## Получение данных библиотеки с фильтрацией по всем полям и пагинацией
GET запрос для получения списка песен с фильтрацией
```bash
curl -X GET "http://localhost:8080/songs?page=1&limit=10&group=Muse&song=Supermassive%20Black%20Hole&releaseDate=2006-07-16"
```
По умолчанию page=1, limit=10 (page - номер возвращаемой странницы, limit - количество песен на странице), если не передать их в запросе. Фильтровать данные библиотеки можно по всем полям
## Получение текста песни с пагинацией по куплетам
GET запрос для получения текста песни с пагинацией по куплетам
```bash
curl -X GET "http://localhost:8080/songs/id/text?page=1&limit=2"
```
В запросе необходимо передать id песни. По умолчанию page=1, limit=2 (page - номер возвращаемой странницы, limit - количество куплетов на странице), если не передать их в запросе.
## Удаление песни
DELETE запрос для удаления песни
```bash
curl -X DELETE "http://localhost:8080/songs/id"
```
В запросе необходимо передать id песни.
## Изменение данных песни
PUT запрос для обновления данных песни
```bash
curl -X PUT "http://localhost:8080/songs/id" \
-H "Content-Type: application/json" \
-d '{
  "group": "Muse3",
  "song": "xaxaxa",
  "release_date": "2006-08-15T00:00:00Z",
  "text": "xaxaxa",
  "link": "https://www.youtube.com/watch?v=Xsp3_a-PMTw/e"
}'
```
В запросе необходимо передать id песни. Также в теле запроса необходимо передать данные, которые нужно изменить, в формате JSON.
## Добавление новой песни
POST запрос для добавления новой песни
```bash
curl -X POST "http://localhost:8080/songs" \
-H "Content-Type: application/json" \
-d '{
  "group": "Muse",
  "song": "Supermassive Black Hole"
}'
```
Затем произойдет обращение к внешнему API для получения дополнительных данных. Запрос на внешнее API заменено на моковую функцию, так как не указан его ip-адрес.
## Swagger
Swagger с описанием API доступен после запуска сервиса по адресу: http://localhost:8080/swagger/index.html
